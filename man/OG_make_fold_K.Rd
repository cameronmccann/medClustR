% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/OG_make_fold_K.R
\name{OG_make_fold_K}
\alias{OG_make_fold_K}
\title{OG_make_fold_K}
\usage{
OG_make_fold_K(data_in, Sname, Yname = NULL, cv_folds = 4)
}
\arguments{
\item{data_in}{A data frame containing at least an \code{id} column
(unique row IDs) and the cluster variable specified by \code{Sname}.}

\item{Sname}{Character string giving the name of the cluster variable in \code{data_in}.}

\item{Yname}{Optional character string giving the name of a binary outcome variable
in \code{data_in} used for within-cluster stratification. Use \code{NULL} to disable
stratification.}

\item{cv_folds}{Integer, number of cross-validation folds (default = 4).}
}
\value{
A list of length \code{cv_folds}, where each element is a fold
containing:
\itemize{
\item \code{validation_set} – vector of row indices (from \code{data_in$id})
used for validation in this fold.
\item \code{training_set} – vector of row indices (from \code{data_in$id})
used for training in this fold.
}
Together, the folds cover all rows in \code{data_in}.
}
\description{
Creates cross-validation folds by first splitting each cluster internally
into \code{cv_folds}, then recombining the v-th fold from each cluster to
form global folds. The result is that each validation fold contains
observations from \emph{all} clusters, and each cluster contributes to every fold.
}
\examples{
library(origami)
set.seed(1)
df <- data.frame(
  id = 1:20,
  cluster = rep(letters[1:4], each = 5),
  x = rnorm(20)
)
folds <- OG_make_fold_K(df, "cluster", cv_folds = 2)
str(folds[[1]])

}
